#!/bin/bash
#common functionality among velvet tools

# makes sure we have root
need_root() {
    if [ "$(whoami)" != "root" ]; then
        echo "This script must be ran as root."
        exit
    fi
}

get_kver() {
    if [ "$1" == "" ]; then
        echo "Note. no kelner specified, going with current kelner"
        kver=$(uname -r)
    else
        #kernel presence check would be nice :3
        kver=${1}
    fi

    echo "kelner chosen ${kver}"
}

need_confirmation(){
    echo "[y/N]"
    read confirmation
    if [ "$confirmation" != "y" ]; then
        echo "canceled"
        exit
    fi
}

out_of_memory(){
    echo "ur /boot partition is out of memory" 
    exit
}

get_y_or_n_answer(){
    echo "[y/N]"
    read answer
    # add fix for capital letters and diffrent langueges?
}

save_pwd(){
    oldpwd=$(pwd)
}

restor_pwd(){
    if [ "$oldpwd" != "" ]; then
        cd $oldpwd
    fi
}